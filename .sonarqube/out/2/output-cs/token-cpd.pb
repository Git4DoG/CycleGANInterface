ƒ;
<D:\Git\CycleGANInterface\CycleGANInterface\ArgumentParser.cs
	namespace 	
CycleGANInterface
 
{ 
public		 

class		 
ArgumentParser		 
{

 
private 
readonly 

Dictionary #
<# $
string$ *
,* +
	IArgument, 5
>5 6
	arguments7 @
;@ A
public 
ArgumentParser 
( 
params %
string& ,
[, -
]- .
args/ 3
)3 4
{ 	
	arguments 
= 
new 

Dictionary &
<& '
string' -
,- .
	IArgument/ 8
>8 9
(9 :
): ;
;; <
for 
( 
int 
i 
= 
$num 
; 
i 
< 
args  $
.$ %
Length% +
;+ ,
i- .
+=. 0
$num0 1
)1 2
{ 
if 
( 
i 
+ 
$num 
>= 
args !
.! "
Length" (
)( )
throw 
new 
	Exception '
(' (
$str( V
)V W
;W X
ParseArgument 
( 
args "
[" #
i# $
]$ %
,% &
args' +
[+ ,
i, -
+. /
$num0 1
]1 2
)2 3
;3 4
} 
if 
( 
! 
( 
	arguments 
. 
ContainsKey '
(' (
$str( ,
), -
^. /
	arguments0 9
.9 :
ContainsKey: E
(E F
$strF J
)J K
)K L
||M O
!P Q
	argumentsQ Z
.Z [
ContainsKey[ f
(f g
$strg k
)k l
)l m
throw 
new 
	Exception #
(# $
$str$ M
)M N
;N O
} 	
private 
void 
ParseArgument "
(# $
string$ *
argument+ 3
,3 4
string5 ;
value< A
)A B
{ 	
switch   
(   
argument   
)   
{!! 
case"" 
$str"" 
:"" 
case## 
$str## 
:## 
if$$ 
($$ 
	arguments$$ !
.$$! "
ContainsKey$$" -
($$- .
$str$$. 2
)$$2 3
||$$4 6
	arguments$$7 @
.$$@ A
ContainsKey$$A L
($$L M
$str$$M Q
)$$Q R
)$$R S
throw&& 
new&& !
	Exception&&" +
(&&+ ,
$str	&&, Ü
)
&&Ü á
;
&&á à
if'' 
('' 
!'' 
Uri'' 
.'' 
	TryCreate'' %
(''% &
value''& +
,''+ ,
UriKind''- 4
.''4 5
RelativeOrAbsolute''5 G
,''G H
out''I L
Uri''M P
link''Q U
)''U V
)''V W
throw(( 
new(( !
	Exception((" +
(((+ ,
$str((, D
)((D E
;((E F
	arguments)) 
.)) 
Add)) !
())! "
$str))" &
,))& '
new))( +
PathArgument)), 8
{))9 :
Argument)); C
=))D E
$str))F J
,))J K
RawValue))L T
=))U V
value))W \
,))\ ]
Value))^ c
=))d e
link))f j
}))k l
)))l m
;))m n
break** 
;** 
case++ 
$str++ 
:++ 
case,, 
$str,, 
:,, 
if-- 
(-- 
	arguments-- !
.--! "
ContainsKey--" -
(--- .
$str--. 2
)--2 3
||--4 6
	arguments--7 @
.--@ A
ContainsKey--A L
(--L M
$str--M Q
)--Q R
)--R S
throw.. 
new.. !
	Exception.." +
(..+ ,
$str	.., Ü
)
..Ü á
;
..á à
byte// 
[// 
]// 
bytes//  
=//! "
Encoding//# +
.//+ ,
UTF8//, 0
.//0 1
GetBytes//1 9
(//9 :
value//: ?
)//? @
;//@ A
if00 
(00 
bytes00 
.00 
Length00 #
==00$ &
$num00' (
)00( )
throw11 
new11 !
	Exception11" +
(11+ ,
$str11, D
)11D E
;11E F
	arguments22 
.22 
Add22 !
(22! "
$str22" &
,22& '
new22( +
ByteArrayArgument22, =
{22> ?
Argument22@ H
=22I J
$str22K O
,22O P
Value22Q V
=22W X
bytes22Y ^
}22_ `
)22` a
;22a b
break33 
;33 
case44 
$str44 
:44 
case55 
$str55 
:55 
if66 
(66 
	arguments66  
.66  !
ContainsKey66! ,
(66, -
$str66- 1
)661 2
)662 3
throw77 
new77 !
	Exception77" +
(77+ ,
$str77, ^
)77^ _
;77_ `
if88 
(88 
!88 
Uri88 
.88 
	TryCreate88 &
(88& '
value88' ,
,88, -
UriKind88. 5
.885 6
RelativeOrAbsolute886 H
,88H I
out88J M
Uri88N Q

outputPath88R \
)88\ ]
||88^ `

outputPath99 "
.99" #
AbsolutePath99# /
.99/ 0
Split990 5
(995 6
$char996 9
)999 :
.99: ;
Last99; ?
(99? @
)99@ A
.99A B
Contains99B J
(99J K
$char99K N
)99N O
)99O P
throw:: 
new:: !
	Exception::" +
(::+ ,
$str::, E
)::E F
;::F G
	arguments;; 
.;; 
Add;; !
(;;! "
$str;;" &
,;;& '
new;;( +
PathArgument;;, 8
{;;9 :
Argument;;; C
=;;D E
$str;;F J
,;;J K
RawValue;;L T
=;;U V
value;;W \
,;;\ ]
Value;;^ c
=;;d e

outputPath;;f p
};;q r
);;r s
;;;s t
break<< 
;<< 
default== 
:== 
throw>> 
new>> 
	Exception>> '
(>>' (
$">>( *
Invalid argument >>* ;
{>>; <
argument>>< D
}>>D E
">>E F
)>>F G
;>>G H
}?? 
}@@ 	
publicBB 
boolBB 
TryGetArgumentBB "
(BB# $
stringBB$ *
argumentBB+ 3
,BB3 4
outBB5 8
	IArgumentBB9 B
valueBBC H
)BBH I
{CC 	
returnDD 
	argumentsDD 
.DD 
TryGetValueDD (
(DD( )
argumentDD) 1
,DD1 2
outDD3 6
valueDD7 <
)DD< =
;DD= >
}EE 	
}FF 
}GG í
ED:\Git\CycleGANInterface\CycleGANInterface\Model\ByteArrayArgument.cs
	namespace 	
CycleGANInterface
 
. 
Model !
{ 
public 

class 
ByteArrayArgument "
:# $
	IArgument% .
{ 
public 
string 
Argument 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
byte 
[ 
] 
Value 
{ 
get !
;! "
set# &
;& '
}( )
} 
} æ
CD:\Git\CycleGANInterface\CycleGANInterface\Model\CycleGANProcess.cs
	namespace 	
CycleGANInterface
 
. 
Model !
{ 
public 

class 
CycleGANProcess  
{ 
private 
Process 
Process 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
	ProcessId 
{ 
get "
{# $
return% +
Process, 3
?3 4
.4 5
Id5 7
??8 :
$num; <
;< =
}> ?
}@ A
public		 
int		 
ExitCode		 
{		 
get		 !
{		" #
return		$ *
Process		+ 2
?		2 3
.		3 4
	HasExited		4 =
==		> @
true		A E
?		F G
Process		H O
.		O P
ExitCode		P X
:		Y Z
-		[ \
$num		\ ]
;		] ^
}		_ `
}		a b
public 
bool 
	IsRunning 
( 
)  
{ 	
if 
( 
Process 
== 
null 
)  
return 
false 
; 
return 
! 
Process 
. 
	HasExited %
;% &
} 	
public 
bool 
Start 
( 
string !
args" &
)& '
{ 	
if 
( 
	IsRunning 
( 
) 
) 
Process 
. 
Kill 
( 
true !
)! "
;" #
Process 
= 
Process 
. 
Start #
(# $
$str$ {
,{ |
args	} Å
)
Å Ç
;
Ç É
return 
	IsRunning 
( 
) 
; 
} 	
public 
bool 
WaitBlocking  
(! "
int" %
timeout& -
)- .
{ 	
if 
( 
! 
	IsRunning 
( 
) 
) 
return 
false 
; 
return 
Process 
. 
WaitForExit &
(& '
timeout' .
). /
;/ 0
} 	
}   
}!! ´
=D:\Git\CycleGANInterface\CycleGANInterface\Model\IArgument.cs
	namespace 	
CycleGANInterface
 
. 
Model !
{ 
public 

	interface 
	IArgument 
{ 
public 
string 
Argument 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Ö
@D:\Git\CycleGANInterface\CycleGANInterface\Model\PathArgument.cs
	namespace 	
CycleGANInterface
 
. 
Model !
{ 
public 

class 
PathArgument 
: 
	IArgument  )
{ 
public 
string 
Argument 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
Uri 
Value 
{ 
get 
; 
set  #
;# $
}% &
public		 
string		 
RawValue		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
}

 
} 
BD:\Git\CycleGANInterface\CycleGANInterface\Model\StringArgument.cs
	namespace 	
CycleGANInterface
 
. 
Model !
{ 
public 

class 
StringArgument 
:  !
	IArgument" +
{ 
public 
string 
Argument 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Value 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ¯F
5D:\Git\CycleGANInterface\CycleGANInterface\Program.cs
	namespace 	
CycleGANInterface
 
{ 
class 	
Program
 
{ 
private		 
static		 
int		 
timeout		 "
=		# $
$num		% )
;		) *
static 
int 
Main 
( 
string 
[ 
]  
args! %
)% &
{ 	
try 
{ 
Console 
. 
	WriteLine !
(! "
$str" 6
)6 7
;7 8
ArgumentParser 
parser %
=& '
ParseArguments( 6
(6 7
args7 ;
); <
;< =
Console 
. 
	WriteLine !
(! "
$str" >
)> ?
;? @
CycleGANProcess 
cycleGANProcess  /
;/ 0
parser 
. 
TryGetArgument %
(% &
$str& *
,* +
out, /
	IArgument0 9
outputFolderArg: I
)I J
;J K
if 
( 
parser 
. 
TryGetArgument )
() *
$str* .
,. /
out0 3
	IArgument4 =
inputPathArgument> O
)O P
)P Q
cycleGANProcess #
=$ % 
StartCycleGANProcess& :
(: ;
inputPathArgument; L
,L M
outputFolderArgN ]
)] ^
;^ _
else 
if 
( 
parser 
.  
TryGetArgument  .
(. /
$str/ 3
,3 4
out5 8
	IArgument9 B
inputByteArgumentC T
)T U
)U V
cycleGANProcess #
=$ % 
StartCycleGANProcess& :
(: ;
inputByteArgument; L
,L M
outputFolderArgN ]
)] ^
;^ _
else 
throw 
new 
	Exception '
(' (
$str( v
)v w
;w x
Console 
. 
	WriteLine !
(! "
$str" @
)@ A
;A B
if 
( 
cycleGANProcess #
==$ &
null' +
||, .
!/ 0
cycleGANProcess0 ?
.? @
WaitBlocking@ L
(L M
timeoutM T
)T U
)U V
throw 
new 
	Exception '
(' (
$str( Q
)Q R
;R S
if 
( 
cycleGANProcess "
." #
ExitCode# +
==, .
-/ 0
$num0 1
)1 2
throw   
new   
	Exception   '
(  ' (
$str  ( C
)  C D
;  D E
Console"" 
."" 
	WriteLine"" !
(""! "
$str""" =
)""= >
;""> ?
Console## 
.## 
	WriteLine## !
(##! "
$str##" A
)##A B
;##B C
return$$ 
$num$$ 
;$$ 
}&& 
catch&& 
(&& 
	Exception&& 
ex&& !
)&&! "
{'' 
Console(( 
.(( 
	WriteLine(( !
(((! "
$str((" %
+((& '
ex((( *
.((* +
Message((+ 2
+((3 4
$str((5 M
)((M N
;((N O
return)) 
-)) 
$num)) 
;)) 
}** 
}++ 	
private-- 
static-- 
ArgumentParser-- %
ParseArguments--& 4
(--5 6
string--6 <
[--< =
]--= >
args--? C
)--C D
{.. 	
ArgumentParser// 
parser// !
=//" #
new//$ '
ArgumentParser//( 6
(//6 7
args//7 ;
)//; <
;//< =
if22 
(22 
parser22 
.22 
TryGetArgument22 %
(22% &
$str22& *
,22* +
out22, /
	IArgument220 9
outputFolderArg22: I
)22I J
&&33 
outputFolderArg33 "
is33# %
PathArgument33& 2
)332 3
Console44 
.44 
	WriteLine44 !
(44! "
$"44" $
 Output folder is: 44$ 7
{447 8
(448 9
outputFolderArg449 H
as44I K
PathArgument44L X
)44X Y
.44Y Z
RawValue44Z b
}44b c
"44c d
)44d e
;44e f
if55 
(55 
parser55 
.55 
TryGetArgument55 %
(55% &
$str55& *
,55* +
out55, /
	IArgument550 9
inputPathArgument55: K
)55K L
&&66 
inputPathArgument66 $
is66% '
PathArgument66( 4
)664 5
Console77 
.77 
	WriteLine77 !
(77! "
$"77" $
 Input is: 77$ /
{77/ 0
(770 1
inputPathArgument771 B
as77C E
PathArgument77F R
)77R S
.77S T
RawValue77T \
}77\ ]
"77] ^
)77^ _
;77_ `
if88 
(88 
parser88 
.88 
TryGetArgument88 %
(88% &
$str88& *
,88* +
out88, /
	IArgument880 9
inputByteArgument88: K
)88K L
&&99 
inputByteArgument99 $
is99% '
ByteArrayArgument99( 9
)999 :
Console:: 
.:: 
	WriteLine:: !
(::! "
$"::" $
 Input is: ::$ /
{::/ 0
(::0 1
inputByteArgument::1 B
as::C E
ByteArrayArgument::F W
)::W X
.::X Y
Value::Y ^
}::^ _
"::_ `
)::` a
;::a b
return<< 
parser<< 
;<< 
}== 	
private?? 
static?? 
CycleGANProcess?? & 
StartCycleGANProcess??' ;
(??< =
	IArgument??= F
input??G L
,??L M
	IArgument??N W
output??X ^
)??^ _
{@@ 	
StringBuilderAA 
argumentBuilderAA )
=AA* +
newAA, /
StringBuilderAA0 =
(AA= >
)AA> ?
;AA? @
argumentBuilderBB 
.BB 
AppendBB "
(BB" #
inputBB# (
.BB( )
ArgumentBB) 1
)BB1 2
;BB2 3
ifCC 
(CC 
inputCC 
isCC 
PathArgumentCC %
)CC% &
argumentBuilderDD 
.DD  
AppendDD  &
(DD& '
$"DD' )
 \"DD) ,
{DD, -
UriDD- 0
.DD0 1
UnescapeDataStringDD1 C
(DDC D
(DDD E
inputDDE J
asDDK M
PathArgumentDDN Z
)DDZ [
.DD[ \
ValueDD\ a
.DDa b
AbsolutePathDDb n
)DDn o
}DDo p
\"DDp r
"DDr s
)DDs t
;DDt u
elseEE 
ifEE 
(EE 
inputEE 
isEE 
ByteArrayArgumentEE /
)EE/ 0
argumentBuilderFF 
.FF  
AppendFF  &
(FF& '
$"FF' )

 BYTEARRAYFF) 3
"FF3 4
)FF4 5
;FF5 6
argumentBuilderHH 
.HH 
AppendHH "
(HH" #
$"HH# %
{HH& '
outputHH' -
.HH- .
ArgumentHH. 6
}HH6 7
 \"HH7 :
{HH: ;
UriHH; >
.HH> ?
UnescapeDataStringHH? Q
(HHQ R
(HHR S
outputHHS Y
asHHZ \
PathArgumentHH] i
)HHi j
.HHj k
ValueHHk p
.HHp q
AbsolutePathHHq }
)HH} ~
}HH~ 
\"	HH Å
"
HHÅ Ç
)
HHÇ É
;
HHÉ Ñ
CycleGANProcessJJ 
processJJ #
=JJ$ %
newJJ& )
CycleGANProcessJJ* 9
(JJ9 :
)JJ: ;
;JJ; <
ifKK 
(KK 
!KK 
processKK 
.KK 
StartKK 
(KK 
argumentBuilderKK .
.KK. /
ToStringKK/ 7
(KK7 8
)KK8 9
)KK9 :
)KK: ;
throwLL 
newLL 
	ExceptionLL #
(LL# $
$strLL$ I
)LLI J
;LLJ K
ConsoleNN 
.NN 
	WriteLineNN 
(NN 
$"NN  /
# CycleGAN process started with id: NN  C
{NNC D
processNND K
.NNK L
	ProcessIdNNL U
}NNU V
"NNV W
)NNW X
;NNX Y
returnOO 
processOO 
;OO 
}PP 	
}QQ 
}RR 